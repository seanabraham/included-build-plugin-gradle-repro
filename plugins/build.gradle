plugins {
  id 'java-gradle-plugin'
  id "org.jetbrains.kotlin.jvm" version "1.4.0"
}

repositories {
  mavenCentral()
}

gradlePlugin {
  plugins {
    server {
      id = 'com.example.buildplugin'
      implementationClass = 'com.example.BuildPlugin'
    }
  }
}

compileJava {
  sourceCompatibility = '1.8'
  targetCompatibility = '1.8'
}

compileKotlin {
  kotlinOptions.jvmTarget = '1.8'
}

dependencies {
  compileOnly gradleApi()
  implementation localGroovy()

  testImplementation gradleTestKit()
}
